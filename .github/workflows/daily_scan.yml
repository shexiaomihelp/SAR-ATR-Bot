name: Daily Trading Scanner

on:
  # æ¯å¤©åœ¨æŒ‡å®šæ™‚é–“ï¼ˆä¾‹å¦‚ï¼šå°åŒ—æ™‚é–“æ—©ä¸Š 8:00ï¼ŒUTC 00:00ï¼‰åŸ·è¡Œ
  schedule:
    - cron: '0 0 * * *'
  # å…è¨±æ‰‹å‹•è§¸ç™¼
  workflow_dispatch:

jobs:
  run_scanner:
    runs-on: ubuntu-latest
    
    # è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼ŒLINE_ACCESS_TOKEN å’Œ LINE_USER_ID å¿…é ˆåœ¨ Secrets ä¸­è¨­ç½®
    env:
      LINE_ACCESS_TOKEN: ${{ secrets.LINE_ACCESS_TOKEN }}
      LINE_USER_ID: ${{ secrets.LINE_USER_ID }}

    steps:
      - name: ğŸ“¥ æª¢å‡ºå„²å­˜åº«
        uses: actions/checkout@v4

      - name: ğŸ å®‰è£ Python ç’°å¢ƒ
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      # é€™æ˜¯å¾ requirements.txt å®‰è£æ‰€æœ‰ä¾è³´å¥—ä»¶çš„é—œéµæ­¥é©Ÿ
      - name: ğŸ“¦ å®‰è£ä¾è³´é … (requirements.txt)
        run: pip install -r requirements.txt

      - name: ğŸš€ é‹è¡Œæ¯æ—¥æƒæ (åŸ·è¡Œæ¨¡å¼ 1)
        # åŸ·è¡Œç¨‹å¼ï¼Œä¸¦å‚³éåƒæ•¸ '1' é€²è¡Œæ¯æ—¥æƒæ
        run: python trading_scanner.py 1
